# 프롬프트 수정 계획

## 발견된 문제점

### 1. **아이콘 카탈로그 누락** ❌
- `optimizePromptForPython.ts`에 아이콘 카탈로그가 없음
- LLM이 30개 아이콘 중 선택할 수 없어 제한적으로 선택
- `optimizePrompt.ts`에는 있지만 fallback에서만 사용

### 2. **음악 목록 포함 여부 확인 필요** ⚠️
- `getAvailableMusicForLLM` 추가했지만 실제 동작 확인 필요
- DB에 데이터가 없으면 빈 목록 전달됨

### 3. **파일명 구조 문제** ⚠️
- 현재: `Title_Artist_Tag` 구조가 아님
- 사용자가 직접 리네이밍 예정

## 수정 계획

### Phase 1: 아이콘 카탈로그 추가 (즉시)
1. `optimizePromptForPython.ts`에 30개 아이콘 카탈로그 추가
2. `optimizePrompt.ts`의 아이콘 카탈로그와 동일하게 맞춤
3. 프롬프트에 명확히 포함

### Phase 2: 음악 목록 확인 및 개선
1. DB에 실제 데이터 있는지 확인
2. 없으면 스크립트 실행 필요
3. 프롬프트에 60개 노래 목록 모두 포함

### Phase 3: 파일명 구조 대응
1. 사용자 리네이밍 후 스크립트 업데이트
2. 파일명 파싱 로직 확인
3. DB 매핑 로직 확인

## 수정 우선순위

1. **즉시**: 아이콘 카탈로그 추가
2. **즉시**: 음악 목록이 실제로 포함되는지 확인
3. **사용자 작업 후**: 파일명 구조 대응

