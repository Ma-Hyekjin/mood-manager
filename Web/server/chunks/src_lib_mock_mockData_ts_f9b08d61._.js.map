{"version":3,"sources":["turbopack:///[project]/src/lib/mock/mockData.ts"],"sourcesContent":["// src/lib/mock/mockData.ts\n/**\n * 목업 데이터 및 테스트 사용자 처리\n * \n * DB 연결 실패 시 또는 테스트 사용자일 경우 기본값 반환\n * UI FLOW 확인을 위해 목업 데이터 제공\n */\n\nimport type { Device } from \"@/types/device\";\nimport { MOODS } from \"@/types/mood\";\nimport { hexToRgb } from \"@/lib/utils\";\n\n/**\n * 테스트 사용자 ID (DB에 없을 경우 사용)\n */\nexport const TEST_USER_ID = \"testUser\";\n\n/**\n * DB 연결 실패 여부 확인\n */\nexport function isDatabaseAvailable(): boolean {\n  return !!process.env.DATABASE_URL && process.env.DATABASE_URL !== \"\";\n}\n\n/**\n * 테스트 사용자 여부 확인\n */\nexport function isTestUser(userId: string): boolean {\n  return userId === TEST_USER_ID || !userId || userId.startsWith(\"test\");\n}\n\n/**\n * 목업 디바이스 목록 반환\n */\nexport function getMockDevices(): Device[] {\n  const defaultMood = MOODS[0];\n  \n  return [\n    {\n      id: \"mock-manager-1\",\n      type: \"manager\",\n      name: \"Mood Manager\",\n      battery: 100,\n      power: true,\n      output: {\n        brightness: 80,\n        color: defaultMood.color,\n        temperature: 4000,\n        scentType: defaultMood.scent.name,\n        scentLevel: 7,\n        scentInterval: 30,\n        volume: 65,\n        nowPlaying: defaultMood.song.title,\n      },\n    },\n    {\n      id: \"mock-light-1\",\n      type: \"light\",\n      name: \"Smart Light 1\",\n      battery: 85,\n      power: true,\n      output: {\n        brightness: 70,\n        color: defaultMood.color,\n        temperature: 4000,\n      },\n    },\n    {\n      id: \"mock-light-2\",\n      type: \"light\",\n      name: \"Smart Light 2\",\n      battery: 80,\n      power: true,\n      output: {\n        brightness: 65,\n        color: defaultMood.color,\n        temperature: 4000,\n      },\n    },\n    {\n      id: \"mock-scent-1\",\n      type: \"scent\",\n      name: \"Smart Diffuser 1\",\n      battery: 90,\n      power: true,\n      output: {\n        scentType: defaultMood.scent.name,\n        scentLevel: 5,\n        scentInterval: 30,\n      },\n    },\n    {\n      id: \"mock-speaker-1\",\n      type: \"speaker\",\n      name: \"Smart Speaker 1\",\n      battery: 75,\n      power: true,\n      output: {\n        volume: 60,\n        nowPlaying: defaultMood.song.title,\n      },\n    },\n  ];\n}\n\n/**\n * 목업 무드스트림 반환\n * \n * 다양성을 위해 무드를 랜덤하게 선택하되, 전체 스트림에서 다양한 무드가 나타나도록 함\n */\nexport function getMockMoodStream() {\n  const now = Date.now();\n  const segmentDuration = 180 * 1000; // 3분\n  \n  // 다양성을 위해 무드 인덱스를 랜덤하게 선택 (하지만 전체 스트림에서 다양한 무드가 나타나도록)\n  // 시간 기반 시드로 매번 다른 스트림 생성\n  const timeSeed = Math.floor(now / (1000 * 60 * 10)); // 10분마다 변경\n  const baseIndex = timeSeed % MOODS.length;\n  \n  // 현재 무드는 baseIndex를 사용하되, 스트림은 다양한 무드를 포함\n  const currentMood = MOODS[baseIndex];\n  \n  // 스트림 생성: 다양한 무드가 나타나도록 순환하면서 약간의 랜덤성 추가\n  const moodStream = Array.from({ length: 10 }, (_, index) => {\n    // 순환하면서 약간의 랜덤 오프셋 추가 (다양성 확보)\n    const moodIndex = (baseIndex + index + Math.floor(Math.random() * 3)) % MOODS.length;\n    const mood = MOODS[moodIndex];\n    \n    return {\n      timestamp: now + index * segmentDuration,\n      duration: segmentDuration,\n      mood: {\n        id: mood.id,\n        name: mood.name,\n        color: mood.color,\n        music: {\n          genre: \"newage\",\n          title: mood.song.title,\n        },\n        scent: {\n          type: mood.scent.type,\n          name: mood.scent.name,\n        },\n        lighting: {\n          color: mood.color,\n          rgb: hexToRgb(mood.color),\n        },\n      },\n    };\n  });\n\n  return {\n    streamId: `mock-stream-${Date.now()}`,\n    currentMood: {\n      id: currentMood.id,\n      name: currentMood.name,\n      color: currentMood.color,\n      music: {\n        genre: \"newage\",\n        title: currentMood.song.title,\n      },\n      scent: {\n        type: currentMood.scent.type,\n        name: currentMood.scent.name,\n      },\n      lighting: {\n        color: currentMood.color,\n        rgb: hexToRgb(currentMood.color),\n      },\n    },\n    segments: moodStream,\n    createdAt: now,\n    userDataCount: 0, // 테스트 사용자는 데이터 없음\n  };\n}\n\n/**\n * 목업 전처리 데이터 반환\n */\nexport function getMockPreprocessingData() {\n  return {\n    average_stress_index: 45,\n    recent_stress_index: 50,\n    latest_sleep_score: 75,\n    latest_sleep_duration: 420,\n    weather: {\n      temperature: 20,\n      humidity: 60,\n      rainType: 0,\n      sky: 1,\n    },\n    emotionEvents: {\n      laughter: [Date.now() - 3600000, Date.now() - 1800000],\n      sigh: [Date.now() - 7200000],\n      anger: [],\n      sadness: [],\n      neutral: [],\n    },\n  };\n}\n\n"],"names":[],"mappings":"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"}