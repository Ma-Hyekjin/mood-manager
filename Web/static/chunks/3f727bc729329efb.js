(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},98183,(e,t,r)=>{"use strict";function n(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function a(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,a(e));else t.set(r,a(n));return t}function l(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,n]of t.entries())e.append(r,n)}return e}Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{assign:function(){return l},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return s}})},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{formatUrl:function(){return s},formatWithValidation:function(){return o},urlObjectKeys:function(){return l}});let n=e.r(51836)._(e.r(98183)),a=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,s=e.protocol||"",l=e.pathname||"",o=e.hash||"",i=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(c+=":"+e.port)),i&&"object"==typeof i&&(i=String(n.urlQueryToSearchParams(i)));let u=e.search||i&&"?"+i||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||a.test(s))&&!1!==c?(c="//"+(c||""),l&&"/"!==l[0]&&(l="/"+l)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),u&&"?"!==u[0]&&(u="?"+u),""+s+c+(l=l.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+o}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function o(e){return s(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=e.r(71645);function a(e,t){let r=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=s(e,n)),t&&(a.current=s(t,n))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{DecodeError:function(){return h},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return y},NormalizeError:function(){return p},PageNotFoundError:function(){return x},SP:function(){return m},ST:function(){return g},WEB_VITALS:function(){return n},execOnce:function(){return a},getDisplayName:function(){return c},getLocationOrigin:function(){return o},getURL:function(){return i},isAbsoluteUrl:function(){return l},isResSent:function(){return u},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return d},stringifyError:function(){return j}});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function a(e){let t,r=!1;return function(){for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return r||(r=!0,t=e(...a)),t}}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>s.test(e);function o(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function i(){let{href:e}=window.location,t=o();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function u(e){return e.finished||e.headersSent}function d(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&u(r))return n;if(!n)throw Object.defineProperty(Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let m="undefined"!=typeof performance,g=m&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class h extends Error{}class p extends Error{}class x extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class y extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let n=e.r(18967),a=e.r(52817);function s(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return p},useLinkStatus:function(){return y}});let n=e.r(51836),a=e.r(43476),s=n._(e.r(71645)),l=e.r(95057),o=e.r(8372),i=e.r(18581),c=e.r(18967),u=e.r(5550);e.r(33525);let d=e.r(91949),f=e.r(73668),m=e.r(99781);e.r(84508);let g=e.r(65165);function h(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function p(e){var t;let r,n,l,[p,y]=(0,s.useOptimistic)(d.IDLE_LINK_STATUS),b=(0,s.useRef)(null),{href:j,as:v,children:w,prefetch:N=null,passHref:P,replace:E,shallow:S,scroll:k,onClick:C,onMouseEnter:_,onTouchStart:D,legacyBehavior:O=!1,onNavigate:M,ref:T,unstable_dynamicOnHover:A,...R}=e;r=w,O&&("string"==typeof r||"number"==typeof r)&&(r=(0,a.jsx)("a",{children:r}));let L=s.default.useContext(o.AppRouterContext),I=!1!==N,U=!1!==N?null===(t=N)||"auto"===t?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:F,as:K}=s.default.useMemo(()=>{let e=h(j);return{href:e,as:v?h(v):e}},[j,v]);O&&(n=s.default.Children.only(r));let z=O?n&&"object"==typeof n&&n.ref:T,B=s.default.useCallback(e=>(null!==L&&(b.current=(0,d.mountLinkInstance)(e,F,L,U,I,y)),()=>{b.current&&((0,d.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,d.unmountPrefetchableInstance)(e)}),[I,F,L,U,y]),q={ref:(0,i.useMergedRef)(B,z),onClick(e){O||"function"!=typeof C||C(e),O&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),L&&(e.defaultPrevented||function(e,t,r,n,a,l,o){let{nodeName:i}=e.currentTarget;if(!("A"===i.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,f.isLocalURL)(t)){a&&(e.preventDefault(),location.replace(t));return}if(e.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}s.default.startTransition(()=>{(0,m.dispatchNavigateAction)(r||t,a?"replace":"push",null==l||l,n.current)})}}(e,F,K,b,E,k,M))},onMouseEnter(e){O||"function"!=typeof _||_(e),O&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),L&&I&&(0,d.onNavigationIntent)(e.currentTarget,!0===A)},onTouchStart:function(e){O||"function"!=typeof D||D(e),O&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),L&&I&&(0,d.onNavigationIntent)(e.currentTarget,!0===A)}};return(0,c.isAbsoluteUrl)(K)?q.href=K:O&&!P&&("a"!==n.type||"href"in n.props)||(q.href=(0,u.addBasePath)(K)),l=O?s.default.cloneElement(n,q):(0,a.jsx)("a",{...R,...q,children:r}),(0,a.jsx)(x.Provider,{value:p,children:l})}let x=(0,s.createContext)(d.IDLE_LINK_STATUS),y=()=>(0,s.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},63488,e=>{"use strict";e.s(["Mail",()=>t],63488);let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},70756,86536,77705,e=>{"use strict";e.s(["Lock",()=>r],70756);var t=e.i(75254);let r=(0,t.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Eye",()=>n],86536);let n=(0,t.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["EyeOff",()=>a],77705);let a=(0,t.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},84614,e=>{"use strict";e.s(["User",()=>t],84614);let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},76128,e=>{"use strict";e.s(["default",()=>y],76128);var t=e.i(43476),r=e.i(71645),n=e.i(22016),a=e.i(84614);function s(e){let{familyName:r,name:n,familyNameDisabled:s=!1,nameDisabled:l=!1,onFamilyNameChange:o,onNameChange:i,onErrorClear:c,onEnterKey:u}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Family Name"}),(0,t.jsxs)("div",{className:"flex items-center px-3 py-2 border rounded-md ".concat(s?"bg-gray-100":""),children:[(0,t.jsx)(a.User,{size:18,className:"text-gray-400 mr-2"}),(0,t.jsx)("input",{type:"text",placeholder:"Family name",className:"w-full outline-none ".concat(s?"bg-gray-100 cursor-not-allowed":""),value:r,disabled:s,onChange:e=>{o(e.target.value),c()},onKeyDown:e=>{"Enter"===e.key&&u()}})]})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Name"}),(0,t.jsxs)("div",{className:"flex items-center px-3 py-2 border rounded-md ".concat(l?"bg-gray-100":""),children:[(0,t.jsx)(a.User,{size:18,className:"text-gray-400 mr-2"}),(0,t.jsx)("input",{type:"text",placeholder:"Name",className:"w-full outline-none ".concat(l?"bg-gray-100 cursor-not-allowed":""),value:n,disabled:l,onChange:e=>{i(e.target.value),c()},onKeyDown:e=>{"Enter"===e.key&&u()}})]})]})]})}function l(e){let{birthDate:r,birthDateError:n,gender:a,birthDateDisabled:s=!1,genderDisabled:l=!1,onBirthDateChange:o,onGenderChange:i,onErrorClear:c,onEnterKey:u,formatBirthDate:d,validateBirthDate:f}=e;return(0,t.jsx)("div",{className:"flex flex-col space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col flex-1 space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Date of Birth"}),(0,t.jsx)("div",{className:"flex items-center px-3 py-2 border rounded-md ".concat(n?"border-red-500":""," ").concat(s?"bg-gray-100":""),children:(0,t.jsx)("input",{type:"text",placeholder:"yyyy.mm.dd",className:"w-full outline-none ".concat(s?"bg-gray-100 cursor-not-allowed":""),value:r,disabled:s,onChange:e=>{o(d(e.target.value)),c()},onBlur:()=>{r&&f(r)},onKeyDown:e=>{"Enter"===e.key&&u()},maxLength:10})}),n&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:n})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Gender"}),(0,t.jsxs)("div",{className:"flex border rounded-md overflow-hidden",children:[(0,t.jsx)("button",{type:"button",disabled:l,onClick:()=>{i("male"),c()},className:"flex-1 px-4 py-2 text-sm border-r border-gray-300 transition ".concat("male"===a?"bg-black text-white":l?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Male"}),(0,t.jsx)("button",{type:"button",disabled:l,onClick:()=>{i("female"),c()},className:"flex-1 px-4 py-2 text-sm transition ".concat("female"===a?"bg-black text-white":l?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"Female"})]})]})]})})}var o=e.i(63488);function i(e){let{email:r,emailError:n,emailDisabled:a=!1,onEmailChange:s,onErrorClear:l,onEnterKey:i,validateEmail:c}=e;return(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Email"}),(0,t.jsxs)("div",{className:"flex items-center px-3 py-2 border rounded-md ".concat(n?"border-red-500":""," ").concat(a?"bg-gray-100":""),children:[(0,t.jsx)(o.Mail,{size:18,className:"text-gray-400 mr-2"}),(0,t.jsx)("input",{type:"email",placeholder:"name@example.com",className:"w-full outline-none ".concat(a?"bg-gray-100 cursor-not-allowed":""),value:r,disabled:a,onChange:e=>{s(e.target.value),l()},onBlur:()=>{},onKeyDown:e=>{"Enter"===e.key&&i()}})]}),n&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:n})]})}var c=e.i(70756),u=e.i(86536),d=e.i(77705);function f(e){let{password:r,passwordStrength:n,passwordsMatch:a,showPassword:s,onPasswordChange:l,onShowPasswordToggle:o,onErrorClear:i,onEnterKey:f,calculatePasswordStrength:m,confirmPassword:g}=e;return(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Password"}),(0,t.jsxs)("div",{className:"flex items-center px-3 py-2 border rounded-md relative transition-all ".concat(!0===a?"border-green-500 shadow-[0_0_0_3px_rgba(34,197,94,0.1)]":""),children:[(0,t.jsx)(c.Lock,{size:18,className:"mr-2 ".concat(!0===a?"text-green-500":"text-gray-400")}),(0,t.jsx)("input",{type:s?"text":"password",placeholder:"password",className:"w-full outline-none",value:r,onChange:e=>{l(e.target.value),i()},onKeyDown:e=>{"Enter"===e.key&&f()}}),(0,t.jsx)("button",{type:"button",className:"absolute right-3",onClick:o,children:s?(0,t.jsx)(d.EyeOff,{size:18,className:"text-gray-500"}):(0,t.jsx)(u.Eye,{size:18,className:"text-gray-500"})})]}),r&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full transition-all ".concat("weak"===n?"bg-red-500 w-1/3":"medium"===n?"bg-yellow-500 w-2/3":"strong"===n?"bg-green-500 w-full":"")})}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"weak"===n?"Weak":"medium"===n?"Medium":"strong"===n?"Strong":""})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 space-y-0.5",children:[(0,t.jsx)("p",{children:"Password requirements:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-0.5 ml-2",children:[(0,t.jsx)("li",{className:r.length>=6?"text-green-600":"",children:"At least 6 characters"}),(0,t.jsx)("li",{className:r.length>=8?"text-green-600":"",children:"At least 8 characters (recommended)"}),(0,t.jsx)("li",{className:/[A-Z]/.test(r)?"text-green-600":"",children:"Include uppercase letter"}),(0,t.jsx)("li",{className:/[0-9]/.test(r)?"text-green-600":"",children:"Include number"}),(0,t.jsx)("li",{className:/[^a-zA-Z0-9]/.test(r)?"text-green-600":"",children:"Include special character"})]})]})]})]})}function m(e){let{confirmPassword:r,password:n,passwordsMatch:a,showConfirmPassword:s,onConfirmPasswordChange:l,onShowConfirmPasswordToggle:o,onErrorClear:i,onEnterKey:f}=e;return(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Confirm Password"}),(0,t.jsxs)("div",{className:"flex items-center px-3 py-2 border rounded-md relative transition-all ".concat(r&&!1===a?"border-red-500 shadow-[0_0_0_3px_rgba(239,68,68,0.1)]":!0===a?"border-green-500 shadow-[0_0_0_3px_rgba(34,197,94,0.1)]":""),children:[(0,t.jsx)(c.Lock,{size:18,className:"mr-2 ".concat(r&&!1===a?"text-red-500":!0===a?"text-green-500":"text-gray-400")}),(0,t.jsx)("input",{type:s?"text":"password",placeholder:"confirm password",className:"w-full outline-none",value:r,onChange:e=>{l(e.target.value),i()},onKeyDown:e=>{"Enter"===e.key&&f()}}),(0,t.jsx)("button",{type:"button",className:"absolute right-3",onClick:o,children:s?(0,t.jsx)(d.EyeOff,{size:18,className:"text-gray-500"}):(0,t.jsx)(u.Eye,{size:18,className:"text-gray-500"})})]}),r&&!1===a&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:"Passwords do not match."})]})}function g(e){let{form:r}=e,{familyName:a,name:o,birthDate:c,birthDateError:u,gender:d,email:g,password:h,confirmPassword:p,showPassword:x,showConfirmPassword:y,errorMsg:b,emailError:j,passwordStrength:v,passwordsMatch:w,isSocialSignup:N,isEmailDisabled:P,isNameDisabled:E,isFamilyNameDisabled:S,isBirthDateDisabled:k,isGenderDisabled:C,setFamilyName:_,setName:D,setBirthDate:O,setBirthDateError:M,setGender:T,setEmail:A,setPassword:R,setConfirmPassword:L,setShowPassword:I,setShowConfirmPassword:U,setErrorMsg:F,setEmailError:K,setPasswordStrength:z,setPasswordsMatch:B,validateEmail:q,calculatePasswordStrength:Z,formatBirthDate:W,validateBirthDate:G,isFormValid:V,handleRegister:Q}=r;return(0,t.jsxs)("div",{className:"w-full max-w-sm space-y-5",children:[(0,t.jsx)(s,{familyName:a,name:o,familyNameDisabled:S,nameDisabled:E,onFamilyNameChange:e=>{_(e),F("")},onNameChange:e=>{D(e),F("")},onErrorClear:()=>F(""),onEnterKey:Q}),(0,t.jsx)(l,{birthDate:c,birthDateError:u,gender:d,birthDateDisabled:k,genderDisabled:C,onBirthDateChange:e=>{let t=W(e);O(t),F(""),M(""),t&&M(G(t))},onGenderChange:e=>{T(e),F("")},onErrorClear:()=>F(""),onEnterKey:Q,formatBirthDate:W,validateBirthDate:G}),(0,t.jsx)(i,{email:g,emailError:j,emailDisabled:P,onEmailChange:e=>{A(e),F(""),K(""),e&&!q(e)&&K("Please enter a valid email address.")},onErrorClear:()=>F(""),onEnterKey:Q,validateEmail:q}),!N&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f,{password:h,passwordStrength:null!=v?v:"",passwordsMatch:w,showPassword:x,onPasswordChange:e=>{R(e),F(""),z(Z(e)),p&&B(e===p)},onShowPasswordToggle:()=>I(!x),onErrorClear:()=>F(""),onEnterKey:()=>{V()&&Q()},calculatePasswordStrength:e=>{var t;return null!=(t=Z(e))?t:""},confirmPassword:p}),(0,t.jsx)(m,{confirmPassword:p,password:h,passwordsMatch:w,showConfirmPassword:y,onConfirmPasswordChange:e=>{L(e),F(""),e?B(h===e):B(null)},onShowConfirmPasswordToggle:()=>U(!y),onErrorClear:()=>F(""),onEnterKey:()=>{V()&&Q()}})]}),b&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:b}),(0,t.jsx)("button",{onClick:Q,disabled:!V(),className:"w-full py-2 rounded-lg font-medium transition ".concat(V()?"bg-black text-white active:bg-gray-700 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Sign Up"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Already have an account? "}),(0,t.jsx)(n.default,{href:"/login",className:"text-sm text-black underline hover:text-gray-700 transition",children:"Sign In"})]})]})}var h=e.i(18566),p=e.i(5766);function x(){let n=function(){let t=(0,h.useRouter)(),n=(0,h.useSearchParams)(),a=(null==n?void 0:n.get("provider"))||"",s=(null==n?void 0:n.get("email"))||"",l=(null==n?void 0:n.get("name"))||"",o=(null==n?void 0:n.get("familyName"))||"",i=(null==n?void 0:n.get("birthDate"))||"",c=(null==n?void 0:n.get("gender"))||"",u=(null==n?void 0:n.get("image"))||"",d=!!a,[f,m]=(0,r.useState)(""),[g,x]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[j,v]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[P,E]=(0,r.useState)(""),[S,k]=(0,r.useState)(""),[C,_]=(0,r.useState)(""),[D,O]=(0,r.useState)(!1),[M,T]=(0,r.useState)(!1),[A,R]=(0,r.useState)(""),[L,I]=(0,r.useState)(""),[U,F]=(0,r.useState)(null),[K,z]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(d){if(E(s),l&&x(l),o&&m(o),i){let e=new Date(i),t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");b("".concat(t,".").concat(r,".").concat(n))}c&&N(c)}},[d,s,l,o,i,c]);let B=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),q=e=>{if(!e)return"";let t=e.split(".");if(3!==t.length)return"Please enter date in yyyy.mm.dd format";let r=parseInt(t[0],10),n=parseInt(t[1],10),a=parseInt(t[2],10);if(isNaN(r)||r<1913||r>2013)return"Year must be between 1913 and 2013";if(isNaN(n)||n<1||n>12)return"Month must be between 1 and 12";if(isNaN(a)||a<1)return"Day is invalid";let s=new Date(r,n,0).getDate();return a>s?"Day must be between 1 and ".concat(s," for this month"):""},Z=async()=>{if(R(""),I(""),!f||!g||!y||!w||!P){let e="Please fill in all required fields.";R(e),p.default.error(e);return}if(!d&&(!S||!C)){let e="Please enter your password.";R(e),p.default.error(e);return}let r=q(y);if(r){v(r),p.default.error(r);return}if(!B(P)){let e="Please enter a valid email address.";I(e),p.default.error(e);return}if(!d){if(S!==C){let e="Passwords do not match.";R(e),p.default.error(e);return}if(S.length<6){let e="Password must be at least 6 characters.";R(e),p.default.error(e);return}if("weak"===U){let e="Password is too weak. Please use a stronger password.";R(e),p.default.error(e);return}}try{let r={familyName:f,name:g,birthDate:(()=>{if(!y)return"";let e=y.split(".");if(3!==e.length)return"";let t=e[0],r=e[1].padStart(2,"0"),n=e[2].padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(n)})(),gender:w,email:P};d?(r.provider=a,r.profileImageUrl=u||null):r.password=S;let n=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!n.ok){let e=(await n.json()).message||"Registration failed.";R(e),p.default.error(e);return}let s=await n.json();if(!s.success){let e=s.message||"Registration failed.";R(e),p.default.error(e);return}let{signIn:l}=await e.A(56744);if(d){p.default.success("Registration successful! Logging you in...");let e=await l(a,{redirect:!1});if(null==e?void 0:e.error){p.default.error("Registration successful, but login failed. Please try logging in."),t.push("/login");return}}else{let e=await l("credentials",{email:P,password:S,redirect:!1});if(null==e?void 0:e.error){p.default.error("Registration successful, but login failed. Please try logging in."),t.push("/login");return}}p.default.success("Welcome to Mood Manager!"),t.push("/home")}catch(t){console.error(t);let e="An unexpected error occurred. Please try again.";R(e),p.default.error(e)}};return{familyName:f,name:g,birthDate:y,birthDateError:j,gender:w,email:P,password:S,confirmPassword:C,showPassword:D,showConfirmPassword:M,errorMsg:A,emailError:L,passwordStrength:U,passwordsMatch:K,isSocialSignup:d,provider:a,isEmailDisabled:d&&!!s,isNameDisabled:d&&!!l,isFamilyNameDisabled:d&&!!o,isBirthDateDisabled:d&&!!i,isGenderDisabled:d&&!!c,setFamilyName:m,setName:x,setBirthDate:b,setBirthDateError:v,setGender:N,setEmail:E,setPassword:k,setConfirmPassword:_,setShowPassword:O,setShowConfirmPassword:T,setErrorMsg:R,setEmailError:I,setPasswordStrength:F,setPasswordsMatch:z,validateEmail:B,calculatePasswordStrength:e=>{if(0===e.length)return null;if(e.length<6)return"weak";let t=0;return(e.length>=8&&t++,/[a-z]/.test(e)&&t++,/[A-Z]/.test(e)&&t++,/[0-9]/.test(e)&&t++,/[^a-zA-Z0-9]/.test(e)&&t++,t<=2)?"weak":t<=3?"medium":"strong"},formatBirthDate:e=>{let t=e.replace(/[^0-9]/g,"").slice(0,8);return t.length<=4?t:t.length<=6?"".concat(t.slice(0,4),".").concat(t.slice(4)):"".concat(t.slice(0,4),".").concat(t.slice(4,6),".").concat(t.slice(6))},validateBirthDate:q,isFormValid:()=>d?""!==f.trim()&&""!==g.trim()&&""!==y.trim()&&""===q(y)&&""!==w&&""!==P.trim():""!==f.trim()&&""!==g.trim()&&""!==y.trim()&&""===q(y)&&""!==w&&""!==P.trim()&&B(P)&&S.length>=6&&"weak"!==U&&S===C&&C.length>0,handleRegister:Z}}();return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center px-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold mb-8",children:"Mood Manager"}),(0,t.jsx)(g,{form:n})]})}function y(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center px-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold mb-8",children:"Mood Manager"}),(0,t.jsx)("div",{className:"text-gray-500",children:"Loading..."})]}),children:(0,t.jsx)(x,{})})}},56744,e=>{e.v(e=>Promise.resolve().then(()=>e(17255)))}]);