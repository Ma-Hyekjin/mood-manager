(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40141,e=>{"use strict";e.s(["GenIcon",()=>o],40141);var t=e.i(71645),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=t.default.createContext&&t.default.createContext(r),n=["attr","size","title"];function s(){return(s=Object.assign.bind()).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var a,n,s;a=e,n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e){return r=>t.default.createElement(c,s({attr:i({},e.attr)},r),function e(r){return r&&r.map((r,a)=>t.default.createElement(r.tag,i({key:a},r.attr),e(r.child)))}(e.child))}function c(e){var l=r=>{var a,{attr:l,size:o,title:c}=e,u=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,n),d=o||r.size||"1em";return r.className&&(a=r.className),e.className&&(a=(a?a+" ":"")+e.className),t.default.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,l,u,{className:a,style:i(i({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&t.default.createElement("title",null,c),e.children)};return void 0!==a?t.default.createElement(a.Consumer,null,e=>l(e)):l(r)}},33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=e.r(71645);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,a)),t&&(n.current=s(t,a))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},98183,(e,t,r)=>{"use strict";function a(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,n(e));else t.set(r,n(a));return t}function l(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,a]of t.entries())e.append(r,a)}return e}Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{assign:function(){return l},searchParamsToUrlQuery:function(){return a},urlQueryToSearchParams:function(){return s}})},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{formatUrl:function(){return s},formatWithValidation:function(){return i},urlObjectKeys:function(){return l}});let a=e.r(51836)._(e.r(98183)),n=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,s=e.protocol||"",l=e.pathname||"",i=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(a.urlQueryToSearchParams(o)));let u=e.search||o&&"?"+o||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||n.test(s))&&!1!==c?(c="//"+(c||""),l&&"/"!==l[0]&&(l="/"+l)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),u&&"?"!==u[0]&&(u="?"+u),""+s+c+(l=l.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+i}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function i(e){return s(e)}},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{DecodeError:function(){return h},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return g},NormalizeError:function(){return x},PageNotFoundError:function(){return y},SP:function(){return m},ST:function(){return p},WEB_VITALS:function(){return a},execOnce:function(){return n},getDisplayName:function(){return c},getLocationOrigin:function(){return i},getURL:function(){return o},isAbsoluteUrl:function(){return l},isResSent:function(){return u},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return d},stringifyError:function(){return j}});let a=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var a=arguments.length,n=Array(a),s=0;s<a;s++)n[s]=arguments[s];return r||(r=!0,t=e(...n)),t}}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>s.test(e);function i(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function o(){let{href:e}=window.location,t=i();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function u(e){return e.finished||e.headersSent}function d(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&u(r))return a;if(!a)throw Object.defineProperty(Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+a+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let m="undefined"!=typeof performance,p=m&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class h extends Error{}class x extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class g extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let a=e.r(18967),n=e.r(52817);function s(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return x},useLinkStatus:function(){return g}});let a=e.r(51836),n=e.r(43476),s=a._(e.r(71645)),l=e.r(95057),i=e.r(8372),o=e.r(18581),c=e.r(18967),u=e.r(5550);e.r(33525);let d=e.r(91949),f=e.r(73668),m=e.r(99781);e.r(84508);let p=e.r(65165);function h(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function x(e){var t;let r,a,l,[x,g]=(0,s.useOptimistic)(d.IDLE_LINK_STATUS),b=(0,s.useRef)(null),{href:j,as:v,children:N,prefetch:w=null,passHref:k,replace:P,shallow:O,scroll:C,onClick:S,onMouseEnter:E,onTouchStart:M,legacyBehavior:T=!1,onNavigate:_,ref:A,unstable_dynamicOnHover:D,...I}=e;r=N,T&&("string"==typeof r||"number"==typeof r)&&(r=(0,n.jsx)("a",{children:r}));let L=s.default.useContext(i.AppRouterContext),z=!1!==w,F=!1!==w?null===(t=w)||"auto"===t?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:U,as:R}=s.default.useMemo(()=>{let e=h(j);return{href:e,as:v?h(v):e}},[j,v]);T&&(a=s.default.Children.only(r));let B=T?a&&"object"==typeof a&&a.ref:A,q=s.default.useCallback(e=>(null!==L&&(b.current=(0,d.mountLinkInstance)(e,U,L,F,z,g)),()=>{b.current&&((0,d.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,d.unmountPrefetchableInstance)(e)}),[z,U,L,F,g]),K={ref:(0,o.useMergedRef)(q,B),onClick(e){T||"function"!=typeof S||S(e),T&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(e),L&&(e.defaultPrevented||function(e,t,r,a,n,l,i){let{nodeName:o}=e.currentTarget;if(!("A"===o.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,f.isLocalURL)(t)){n&&(e.preventDefault(),location.replace(t));return}if(e.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}s.default.startTransition(()=>{(0,m.dispatchNavigateAction)(r||t,n?"replace":"push",null==l||l,a.current)})}}(e,U,R,b,P,C,_))},onMouseEnter(e){T||"function"!=typeof E||E(e),T&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),L&&z&&(0,d.onNavigationIntent)(e.currentTarget,!0===D)},onTouchStart:function(e){T||"function"!=typeof M||M(e),T&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),L&&z&&(0,d.onNavigationIntent)(e.currentTarget,!0===D)}};return(0,c.isAbsoluteUrl)(R)?K.href=R:T&&!k&&("a"!==a.type||"href"in a.props)||(K.href=(0,u.addBasePath)(R)),l=T?s.default.cloneElement(a,K):(0,n.jsx)("a",{...I,...K,children:r}),(0,n.jsx)(y.Provider,{value:x,children:l})}let y=(0,s.createContext)(d.IDLE_LINK_STATUS),g=()=>(0,s.useContext)(y);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},63488,e=>{"use strict";e.s(["Mail",()=>t],63488);let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},84614,e=>{"use strict";e.s(["User",()=>t],84614);let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},88442,e=>{"use strict";e.s(["DeviceCardSkeleton",()=>a,"MoodDashboardSkeleton",()=>n,"ProfileSkeleton",()=>s]);var t=e.i(43476);function r(e){let{className:r=""}=e;return(0,t.jsx)("div",{className:"animate-pulse bg-gray-200 rounded ".concat(r)})}function a(){return(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-white border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)(r,{className:"h-5 w-24"}),(0,t.jsx)(r,{className:"h-6 w-6 rounded-full"})]}),(0,t.jsx)(r,{className:"h-16 w-full mb-2"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r,{className:"h-4 w-16"}),(0,t.jsx)(r,{className:"h-4 w-12"})]})]})}function n(){return(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-white border border-gray-200 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)(r,{className:"h-6 w-32"}),(0,t.jsx)(r,{className:"h-8 w-8 rounded-full"})]}),(0,t.jsx)(r,{className:"h-24 w-full mb-4"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r,{className:"h-10 flex-1"}),(0,t.jsx)(r,{className:"h-10 flex-1"})]})]})}function s(){return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(r,{className:"w-16 h-16 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(r,{className:"h-6 w-32"}),(0,t.jsx)(r,{className:"h-4 w-48"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r,{className:"h-4 w-full"}),(0,t.jsx)(r,{className:"h-4 w-3/4"})]})]})}},40901,e=>{"use strict";e.s(["default",()=>P],40901);var t=e.i(43476),r=e.i(71645),a=e.i(17255),n=e.i(18566),s=e.i(5766),l=e.i(75218),i=e.i(30567),o=e.i(88442),c=e.i(63488),u=e.i(75254);let d=(0,u.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var f=e.i(84614);let m=(0,u.default)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),p=(0,u.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),h=(0,u.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);function x(e){let{profile:a,isEditingProfile:n,editedName:s,editedFamilyName:l,editedBirthDate:i,editedGender:u,editedPhone:x,profileImage:y,isUpdating:g,onEditClick:b,onSave:j,onCancel:v,onImageChange:N,onNameChange:w,onFamilyNameChange:k,onBirthDateChange:P,onGenderChange:O,onPhoneChange:C}=e,[S,E]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let e=setTimeout(()=>{E(!1)},500);return()=>clearTimeout(e)},[]),S&&!a)?(0,t.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-6",children:(0,t.jsx)(o.ProfileSkeleton,{})}):(0,t.jsxs)("div",{className:"bg-white border-b border-gray-200 px-4 py-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Profile"}),n?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:j,disabled:g,className:"px-3 py-1 text-sm bg-black text-white rounded-md hover:bg-gray-800 transition disabled:opacity-50",children:g?"Saving...":"Save"}),(0,t.jsx)("button",{onClick:v,disabled:g,className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition disabled:opacity-50",children:"Cancel"})]}):(0,t.jsxs)("button",{onClick:b,className:"flex items-center gap-1 text-sm text-gray-600 hover:text-gray-800 transition",children:[(0,t.jsx)(p,{size:16}),"Edit"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,t.jsx)("div",{className:"relative",children:n?(0,t.jsxs)("label",{className:"cursor-pointer",children:[(0,t.jsxs)("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden relative group",children:[y?(0,t.jsx)("img",{src:y,alt:"Profile",className:"w-full h-full object-cover"}):(0,t.jsx)(m,{size:32,className:"text-gray-400"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition flex items-center justify-center",children:(0,t.jsx)(h,{size:20,className:"text-white opacity-0 group-hover:opacity-100 transition"})})]}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:N,className:"hidden"})]}):(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:y?(0,t.jsx)("img",{src:y,alt:"Profile",className:"w-full h-full object-cover"}):(0,t.jsx)(m,{size:32,className:"text-gray-400"})})}),(0,t.jsx)("div",{className:"flex-1",children:n?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{type:"text",value:l,onChange:e=>k(e.target.value),placeholder:"Family Name",className:"w-full px-2 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-black"}),(0,t.jsx)("input",{type:"text",value:s,onChange:e=>w(e.target.value),placeholder:"Name",className:"w-full px-2 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-black"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold",children:[null==a?void 0:a.familyName," ",null==a?void 0:a.name]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:null==a?void 0:a.email})]})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(c.Mail,{size:16,className:"text-gray-400 mr-3"}),(0,t.jsx)("span",{className:"text-gray-600",children:null==a?void 0:a.email})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(d,{size:16,className:"text-gray-400 mr-3 flex-shrink-0"}),n?(0,t.jsx)("input",{type:"date",value:i,onChange:e=>P(e.target.value),className:"flex-1 px-2 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-black"}):(0,t.jsx)("span",{className:"text-gray-600",children:(null==a?void 0:a.birthDate)?new Date(a.birthDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-"})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(f.User,{size:16,className:"text-gray-400 mr-3 flex-shrink-0"}),n?(0,t.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,t.jsx)("button",{type:"button",onClick:()=>O("male"),className:"flex-1 px-3 py-1 text-sm border rounded-md transition ".concat("male"===u?"bg-black text-white border-black":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"Male"}),(0,t.jsx)("button",{type:"button",onClick:()=>O("female"),className:"flex-1 px-3 py-1 text-sm border rounded-md transition ".concat("female"===u?"bg-black text-white border-black":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"Female"})]}):(0,t.jsx)("span",{className:"text-gray-600",children:(null==a?void 0:a.gender)||"-"})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-400 mr-3 flex-shrink-0",children:(0,t.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),n?(0,t.jsx)("input",{type:"tel",value:x,onChange:e=>C(e.target.value),placeholder:(null==a?void 0:a.phone)?"":"Add phone number",className:"flex-1 px-2 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-black"}):(0,t.jsx)("span",{className:"text-gray-600",children:(null==a?void 0:a.phone)||"-"})]})]})]})}var y=e.i(22016);let g=(0,u.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),b=(0,u.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),j=(0,u.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),v=(0,u.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),N=(0,u.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);function w(e){let{onLogout:r,onDeleteAccount:a}=e;return(0,t.jsxs)("div",{className:"bg-white mt-4",children:[(0,t.jsxs)(y.default,{href:"/mypage/qna",className:"flex items-center justify-between px-4 py-4 border-b border-gray-200 hover:bg-gray-50 transition",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g,{size:20,className:"text-gray-400 mr-3"}),(0,t.jsx)("span",{className:"text-gray-700",children:"Q&A"})]}),(0,t.jsx)("span",{className:"text-gray-400",children:"›"})]}),(0,t.jsxs)(y.default,{href:"/mypage/inquiry",className:"flex items-center justify-between px-4 py-4 border-b border-gray-200 hover:bg-gray-50 transition",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b,{size:20,className:"text-gray-400 mr-3"}),(0,t.jsx)("span",{className:"text-gray-700",children:"1:1 Inquiry"})]}),(0,t.jsx)("span",{className:"text-gray-400",children:"›"})]}),(0,t.jsxs)(y.default,{href:"/mypage/privacy",className:"flex items-center justify-between px-4 py-4 border-b border-gray-200 hover:bg-gray-50 transition",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(j,{size:20,className:"text-gray-400 mr-3"}),(0,t.jsx)("span",{className:"text-gray-700",children:"Privacy Policy"})]}),(0,t.jsx)("span",{className:"text-gray-400",children:"›"})]}),(0,t.jsxs)("button",{onClick:r,className:"w-full flex items-center px-4 py-4 border-b border-gray-200 hover:bg-gray-50 transition text-left",children:[(0,t.jsx)(v,{size:20,className:"text-gray-400 mr-3"}),(0,t.jsx)("span",{className:"text-gray-700",children:"Logout"})]}),(0,t.jsxs)("button",{onClick:a,className:"w-full flex items-center px-4 py-4 hover:bg-red-50 transition text-left",children:[(0,t.jsx)(N,{size:20,className:"text-red-400 mr-3"}),(0,t.jsx)("span",{className:"text-red-600",children:"Delete Account"})]})]})}function k(e){let{show:r,confirmText:a,isDeleting:n,onConfirmTextChange:s,onConfirm:l,onCancel:i}=e;return r?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 px-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Delete Account"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["This action cannot be undone. All your data will be permanently deleted. If you understand and want to proceed, please type ",(0,t.jsx)("strong",{children:'"I understand"'})," below."]}),(0,t.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"I understand",className:"w-full px-3 py-2 border rounded-md mb-4"}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{onClick:i,className:"flex-1 px-4 py-2 border rounded-md hover:bg-gray-50 transition",children:"Cancel"}),(0,t.jsx)("button",{onClick:l,disabled:"I understand"!==a||n,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Deleting...":"Delete"})]})]})}):null}function P(){let{status:e}=(0,a.useSession)(),o=(0,n.useRouter)(),[c,u]=(0,r.useState)(!1),[d,f]=(0,r.useState)(""),[m,p]=(0,r.useState)(!1),{profile:h,isEditingProfile:y,editedName:g,editedFamilyName:b,editedBirthDate:j,editedGender:v,editedPhone:N,profileImage:P,isUpdating:O,setIsEditingProfile:C,setEditedName:S,setEditedFamilyName:E,setEditedBirthDate:M,setEditedGender:T,setEditedPhone:_,handleImageChange:A,handleProfileUpdate:D,handleProfileCancel:I}=function(){let{data:e}=(0,a.useSession)(),[t,n]=(0,r.useState)(null),[l,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[x,y]=(0,r.useState)(""),[g,b]=(0,r.useState)(null),[j,v]=(0,r.useState)(null),[N,w]=(0,r.useState)(!1),k=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/auth/profile");if(!e.ok)throw Error("Failed to fetch profile");let t=await e.json();n(t.profile),b(t.profile.profileImageUrl||null)}catch(e){console.error("Error fetching profile:",e),s.default.error("Failed to load profile data.")}},[]);(0,r.useEffect)(()=>{e&&k()},[e,k]),(0,r.useEffect)(()=>{t&&(c(t.name),d(t.familyName),m(t.birthDate||""),h("Male"===t.gender?"male":"Female"===t.gender?"female":""),y(t.phone||""))},[t]);let P=async()=>{if(!o.trim()||!u.trim())return void s.default.error("Name and Family Name are required.");w(!0);try{let e=new FormData;e.append("name",o.trim()),e.append("familyName",u.trim()),f&&e.append("birthDate",f),p&&e.append("gender",p),void 0!==x&&e.append("phone",x.trim()),j&&e.append("profileImage",j);let t=await fetch("/api/auth/profile",{method:"PUT",body:e});if(!t.ok){let e=await t.json();throw Error(e.message||"Failed to update profile")}let r=await t.json();n(r.profile),b(r.profile.profileImageUrl||null),v(null),s.default.success("Profile updated successfully."),i(!1)}catch(e){console.error("Error updating profile:",e),s.default.error(e instanceof Error?e.message:"Failed to update profile. Please try again.")}finally{w(!1)}};return{profile:t,isEditingProfile:l,editedName:o,editedFamilyName:u,editedBirthDate:f,editedGender:p,editedPhone:x,profileImage:g,isUpdating:N,setIsEditingProfile:i,setEditedName:c,setEditedFamilyName:d,setEditedBirthDate:m,setEditedGender:h,setEditedPhone:y,handleImageChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r){if(!r.type.startsWith("image/"))return void s.default.error("Please select an image file.");if(r.size>5242880)return void s.default.error("Image size must be less than 5MB.");let e=new FileReader;e.onloadend=()=>{b(e.result)},e.readAsDataURL(r),v(r)}},handleProfileUpdate:P,handleProfileCancel:()=>{t&&(c(t.name),d(t.familyName),m(t.birthDate||""),h("Male"===t.gender?"male":"Female"===t.gender?"female":""),y(t.phone||""),b(t.profileImageUrl||null)),v(null),i(!1)}}}(),L=async()=>{await (0,a.signOut)({redirect:!1}),localStorage.clear(),sessionStorage.clear(),o.push("/login")},z=async()=>{if("I understand"===d){p(!0);try{let e=await fetch("/api/auth/account",{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({confirmText:d})}),t=await e.json();if(!e.ok)throw Error(t.message||"Failed to delete account");s.default.success("Account deleted successfully"),await (0,a.signOut)({redirect:!1}),localStorage.clear(),sessionStorage.clear(),o.push("/login")}catch(e){console.error("Error deleting account:",e),s.default.error(e instanceof Error?e.message:"Failed to delete account. Please try again.")}finally{p(!1),u(!1),f("")}}};return((0,r.useEffect)(()=>{"unauthenticated"===e&&o.push("/login")},[e,o]),"loading"===e)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Loading..."})}):"unauthenticated"===e?null:(0,t.jsxs)("div",{className:"flex flex-col h-screen overflow-hidden relative bg-white",children:[(0,t.jsx)(l.default,{}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto pb-20",children:(0,t.jsxs)("div",{className:"max-w-[375px] mx-auto",children:[(0,t.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"My Page"})}),(0,t.jsx)(x,{profile:h,isEditingProfile:y,editedName:g,editedFamilyName:b,editedBirthDate:j,editedGender:v,editedPhone:N,profileImage:P,isUpdating:O,onEditClick:()=>C(!0),onSave:D,onCancel:I,onImageChange:A,onNameChange:S,onFamilyNameChange:E,onBirthDateChange:M,onGenderChange:T,onPhoneChange:_}),(0,t.jsx)(w,{onLogout:L,onDeleteAccount:()=>u(!0)})]})}),(0,t.jsx)(i.default,{}),(0,t.jsx)(k,{show:c,confirmText:d,isDeleting:m,onConfirmTextChange:f,onConfirm:z,onCancel:()=>{u(!1),f("")}})]})}}]);